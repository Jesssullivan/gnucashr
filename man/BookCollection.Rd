% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/book-collection.R
\name{BookCollection}
\alias{BookCollection}
\title{BookCollection Class}
\description{
BookCollection Class

BookCollection Class
}
\details{
R6 class for managing multiple GnuCash books with consolidation support.
Enables multi-entity financial modeling with intercompany elimination.
}
\section{Methods}{
\subsection{Public methods}{
\itemize{
\item \href{#method-BookCollection-new}{\code{BookCollection$new()}}
\item \href{#method-BookCollection-add_book}{\code{BookCollection$add_book()}}
\item \href{#method-BookCollection-remove_book}{\code{BookCollection$remove_book()}}
\item \href{#method-BookCollection-get_book}{\code{BookCollection$get_book()}}
\item \href{#method-BookCollection-list_books}{\code{BookCollection$list_books()}}
\item \href{#method-BookCollection-each}{\code{BookCollection$each()}}
\item \href{#method-BookCollection-all_accounts}{\code{BookCollection$all_accounts()}}
\item \href{#method-BookCollection-all_transactions}{\code{BookCollection$all_transactions()}}
\item \href{#method-BookCollection-all_splits}{\code{BookCollection$all_splits()}}
\item \href{#method-BookCollection-add_ic_rule}{\code{BookCollection$add_ic_rule()}}
\item \href{#method-BookCollection-get_ic_rules}{\code{BookCollection$get_ic_rules()}}
\item \href{#method-BookCollection-setup_tinyland_ic_rules}{\code{BookCollection$setup_tinyland_ic_rules()}}
\item \href{#method-BookCollection-consolidated_trial_balance}{\code{BookCollection$consolidated_trial_balance()}}
\item \href{#method-BookCollection-consolidated_balance_sheet}{\code{BookCollection$consolidated_balance_sheet()}}
\item \href{#method-BookCollection-consolidated_income_statement}{\code{BookCollection$consolidated_income_statement()}}
\item \href{#method-BookCollection-intercompany_reconciliation}{\code{BookCollection$intercompany_reconciliation()}}
\item \href{#method-BookCollection-close}{\code{BookCollection$close()}}
\item \href{#method-BookCollection-print}{\code{BookCollection$print()}}
\item \href{#method-BookCollection-clone}{\code{BookCollection$clone()}}
}
}
\if{html}{\out{<hr>}}
\if{html}{\out{<a id="method-BookCollection-new"></a>}}
\if{latex}{\out{\hypertarget{method-BookCollection-new}{}}}
\subsection{Method \code{new()}}{
Create a new BookCollection
\subsection{Usage}{
\if{html}{\out{<div class="r">}}\preformatted{BookCollection$new(entity_config = NULL)}\if{html}{\out{</div>}}
}

\subsection{Arguments}{
\if{html}{\out{<div class="arguments">}}
\describe{
\item{\code{entity_config}}{Optional entity configuration from load_entity_config()}
}
\if{html}{\out{</div>}}
}
}
\if{html}{\out{<hr>}}
\if{html}{\out{<a id="method-BookCollection-add_book"></a>}}
\if{latex}{\out{\hypertarget{method-BookCollection-add_book}{}}}
\subsection{Method \code{add_book()}}{
Add a book to the collection
\subsection{Usage}{
\if{html}{\out{<div class="r">}}\preformatted{BookCollection$add_book(name, path, read_only = TRUE)}\if{html}{\out{</div>}}
}

\subsection{Arguments}{
\if{html}{\out{<div class="arguments">}}
\describe{
\item{\code{name}}{Unique identifier for this book (e.g., "inc", "products")}

\item{\code{path}}{Path to GnuCash file}

\item{\code{read_only}}{Open in read-only mode (default TRUE)}
}
\if{html}{\out{</div>}}
}
}
\if{html}{\out{<hr>}}
\if{html}{\out{<a id="method-BookCollection-remove_book"></a>}}
\if{latex}{\out{\hypertarget{method-BookCollection-remove_book}{}}}
\subsection{Method \code{remove_book()}}{
Remove a book from the collection
\subsection{Usage}{
\if{html}{\out{<div class="r">}}\preformatted{BookCollection$remove_book(name)}\if{html}{\out{</div>}}
}

\subsection{Arguments}{
\if{html}{\out{<div class="arguments">}}
\describe{
\item{\code{name}}{Book identifier to remove}
}
\if{html}{\out{</div>}}
}
}
\if{html}{\out{<hr>}}
\if{html}{\out{<a id="method-BookCollection-get_book"></a>}}
\if{latex}{\out{\hypertarget{method-BookCollection-get_book}{}}}
\subsection{Method \code{get_book()}}{
Get a specific book
\subsection{Usage}{
\if{html}{\out{<div class="r">}}\preformatted{BookCollection$get_book(name)}\if{html}{\out{</div>}}
}

\subsection{Arguments}{
\if{html}{\out{<div class="arguments">}}
\describe{
\item{\code{name}}{Book identifier}
}
\if{html}{\out{</div>}}
}
}
\if{html}{\out{<hr>}}
\if{html}{\out{<a id="method-BookCollection-list_books"></a>}}
\if{latex}{\out{\hypertarget{method-BookCollection-list_books}{}}}
\subsection{Method \code{list_books()}}{
List all books in the collection
\subsection{Usage}{
\if{html}{\out{<div class="r">}}\preformatted{BookCollection$list_books()}\if{html}{\out{</div>}}
}

}
\if{html}{\out{<hr>}}
\if{html}{\out{<a id="method-BookCollection-each"></a>}}
\if{latex}{\out{\hypertarget{method-BookCollection-each}{}}}
\subsection{Method \code{each()}}{
Apply a function to each book (monadic each)
\subsection{Usage}{
\if{html}{\out{<div class="r">}}\preformatted{BookCollection$each(fn)}\if{html}{\out{</div>}}
}

\subsection{Arguments}{
\if{html}{\out{<div class="arguments">}}
\describe{
\item{\code{fn}}{Function to apply, receives (book, name) arguments}
}
\if{html}{\out{</div>}}
}
\subsection{Returns}{
List of results keyed by book name
}
}
\if{html}{\out{<hr>}}
\if{html}{\out{<a id="method-BookCollection-all_accounts"></a>}}
\if{latex}{\out{\hypertarget{method-BookCollection-all_accounts}{}}}
\subsection{Method \code{all_accounts()}}{
Get combined accounts from all books
\subsection{Usage}{
\if{html}{\out{<div class="r">}}\preformatted{BookCollection$all_accounts(with_book_name = TRUE)}\if{html}{\out{</div>}}
}

\subsection{Arguments}{
\if{html}{\out{<div class="arguments">}}
\describe{
\item{\code{with_book_name}}{Add book_name column (default TRUE)}
}
\if{html}{\out{</div>}}
}
}
\if{html}{\out{<hr>}}
\if{html}{\out{<a id="method-BookCollection-all_transactions"></a>}}
\if{latex}{\out{\hypertarget{method-BookCollection-all_transactions}{}}}
\subsection{Method \code{all_transactions()}}{
Get combined transactions from all books
\subsection{Usage}{
\if{html}{\out{<div class="r">}}\preformatted{BookCollection$all_transactions(with_book_name = TRUE)}\if{html}{\out{</div>}}
}

\subsection{Arguments}{
\if{html}{\out{<div class="arguments">}}
\describe{
\item{\code{with_book_name}}{Add book_name column (default TRUE)}
}
\if{html}{\out{</div>}}
}
}
\if{html}{\out{<hr>}}
\if{html}{\out{<a id="method-BookCollection-all_splits"></a>}}
\if{latex}{\out{\hypertarget{method-BookCollection-all_splits}{}}}
\subsection{Method \code{all_splits()}}{
Get combined splits from all books
\subsection{Usage}{
\if{html}{\out{<div class="r">}}\preformatted{BookCollection$all_splits(with_book_name = TRUE)}\if{html}{\out{</div>}}
}

\subsection{Arguments}{
\if{html}{\out{<div class="arguments">}}
\describe{
\item{\code{with_book_name}}{Add book_name column (default TRUE)}
}
\if{html}{\out{</div>}}
}
}
\if{html}{\out{<hr>}}
\if{html}{\out{<a id="method-BookCollection-add_ic_rule"></a>}}
\if{latex}{\out{\hypertarget{method-BookCollection-add_ic_rule}{}}}
\subsection{Method \code{add_ic_rule()}}{
Add intercompany elimination rule
\subsection{Usage}{
\if{html}{\out{<div class="r">}}\preformatted{BookCollection$add_ic_rule(
  from_book,
  from_account,
  to_book,
  to_account,
  description = NULL
)}\if{html}{\out{</div>}}
}

\subsection{Arguments}{
\if{html}{\out{<div class="arguments">}}
\describe{
\item{\code{from_book}}{Source book name}

\item{\code{from_account}}{Source account path pattern}

\item{\code{to_book}}{Target book name}

\item{\code{to_account}}{Target account path pattern}

\item{\code{description}}{Rule description}
}
\if{html}{\out{</div>}}
}
}
\if{html}{\out{<hr>}}
\if{html}{\out{<a id="method-BookCollection-get_ic_rules"></a>}}
\if{latex}{\out{\hypertarget{method-BookCollection-get_ic_rules}{}}}
\subsection{Method \code{get_ic_rules()}}{
Get all intercompany rules
\subsection{Usage}{
\if{html}{\out{<div class="r">}}\preformatted{BookCollection$get_ic_rules()}\if{html}{\out{</div>}}
}

}
\if{html}{\out{<hr>}}
\if{html}{\out{<a id="method-BookCollection-setup_tinyland_ic_rules"></a>}}
\if{latex}{\out{\hypertarget{method-BookCollection-setup_tinyland_ic_rules}{}}}
\subsection{Method \code{setup_tinyland_ic_rules()}}{
Set up default IC rules for Tinyland structure
\subsection{Usage}{
\if{html}{\out{<div class="r">}}\preformatted{BookCollection$setup_tinyland_ic_rules()}\if{html}{\out{</div>}}
}

}
\if{html}{\out{<hr>}}
\if{html}{\out{<a id="method-BookCollection-consolidated_trial_balance"></a>}}
\if{latex}{\out{\hypertarget{method-BookCollection-consolidated_trial_balance}{}}}
\subsection{Method \code{consolidated_trial_balance()}}{
Generate consolidated trial balance
\subsection{Usage}{
\if{html}{\out{<div class="r">}}\preformatted{BookCollection$consolidated_trial_balance(
  as_of = Sys.Date(),
  eliminate_ic = TRUE
)}\if{html}{\out{</div>}}
}

\subsection{Arguments}{
\if{html}{\out{<div class="arguments">}}
\describe{
\item{\code{as_of}}{Date for balance calculation (default: today)}

\item{\code{eliminate_ic}}{Apply intercompany eliminations (default TRUE)}
}
\if{html}{\out{</div>}}
}
}
\if{html}{\out{<hr>}}
\if{html}{\out{<a id="method-BookCollection-consolidated_balance_sheet"></a>}}
\if{latex}{\out{\hypertarget{method-BookCollection-consolidated_balance_sheet}{}}}
\subsection{Method \code{consolidated_balance_sheet()}}{
Generate consolidated balance sheet
\subsection{Usage}{
\if{html}{\out{<div class="r">}}\preformatted{BookCollection$consolidated_balance_sheet(
  as_of = Sys.Date(),
  eliminate_ic = TRUE
)}\if{html}{\out{</div>}}
}

\subsection{Arguments}{
\if{html}{\out{<div class="arguments">}}
\describe{
\item{\code{as_of}}{Date for balance calculation}

\item{\code{eliminate_ic}}{Apply intercompany eliminations}
}
\if{html}{\out{</div>}}
}
}
\if{html}{\out{<hr>}}
\if{html}{\out{<a id="method-BookCollection-consolidated_income_statement"></a>}}
\if{latex}{\out{\hypertarget{method-BookCollection-consolidated_income_statement}{}}}
\subsection{Method \code{consolidated_income_statement()}}{
Generate consolidated income statement
\subsection{Usage}{
\if{html}{\out{<div class="r">}}\preformatted{BookCollection$consolidated_income_statement(
  start_date,
  end_date = Sys.Date(),
  eliminate_ic = TRUE
)}\if{html}{\out{</div>}}
}

\subsection{Arguments}{
\if{html}{\out{<div class="arguments">}}
\describe{
\item{\code{start_date}}{Start of period}

\item{\code{end_date}}{End of period}

\item{\code{eliminate_ic}}{Apply intercompany eliminations}
}
\if{html}{\out{</div>}}
}
}
\if{html}{\out{<hr>}}
\if{html}{\out{<a id="method-BookCollection-intercompany_reconciliation"></a>}}
\if{latex}{\out{\hypertarget{method-BookCollection-intercompany_reconciliation}{}}}
\subsection{Method \code{intercompany_reconciliation()}}{
Intercompany reconciliation report
\subsection{Usage}{
\if{html}{\out{<div class="r">}}\preformatted{BookCollection$intercompany_reconciliation(as_of = Sys.Date())}\if{html}{\out{</div>}}
}

\subsection{Arguments}{
\if{html}{\out{<div class="arguments">}}
\describe{
\item{\code{as_of}}{Date for reconciliation}
}
\if{html}{\out{</div>}}
}
}
\if{html}{\out{<hr>}}
\if{html}{\out{<a id="method-BookCollection-close"></a>}}
\if{latex}{\out{\hypertarget{method-BookCollection-close}{}}}
\subsection{Method \code{close()}}{
Close all books
\subsection{Usage}{
\if{html}{\out{<div class="r">}}\preformatted{BookCollection$close()}\if{html}{\out{</div>}}
}

}
\if{html}{\out{<hr>}}
\if{html}{\out{<a id="method-BookCollection-print"></a>}}
\if{latex}{\out{\hypertarget{method-BookCollection-print}{}}}
\subsection{Method \code{print()}}{
Print method
\subsection{Usage}{
\if{html}{\out{<div class="r">}}\preformatted{BookCollection$print()}\if{html}{\out{</div>}}
}

}
\if{html}{\out{<hr>}}
\if{html}{\out{<a id="method-BookCollection-clone"></a>}}
\if{latex}{\out{\hypertarget{method-BookCollection-clone}{}}}
\subsection{Method \code{clone()}}{
The objects of this class are cloneable with this method.
\subsection{Usage}{
\if{html}{\out{<div class="r">}}\preformatted{BookCollection$clone(deep = FALSE)}\if{html}{\out{</div>}}
}

\subsection{Arguments}{
\if{html}{\out{<div class="arguments">}}
\describe{
\item{\code{deep}}{Whether to make a deep clone.}
}
\if{html}{\out{</div>}}
}
}
}
