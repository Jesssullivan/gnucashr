% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/forecast-lazy.R
\name{LazyForecast}
\alias{LazyForecast}
\title{LazyForecast R6 Class}
\description{
LazyForecast R6 Class

LazyForecast R6 Class
}
\details{
Monadic lazy evaluation for financial forecasting.
Builds an expression tree (AST) without executing until collect() is called.
Integrates with Result and Logger monads for safe, auditable computation.
}
\section{Methods}{
\subsection{Public methods}{
\itemize{
\item \href{#method-LazyForecast-new}{\code{LazyForecast$new()}}
\item \href{#method-LazyForecast-bind}{\code{LazyForecast$bind()}}
\item \href{#method-LazyForecast-map}{\code{LazyForecast$map()}}
\item \href{#method-LazyForecast-grow}{\code{LazyForecast$grow()}}
\item \href{#method-LazyForecast-filter}{\code{LazyForecast$filter()}}
\item \href{#method-LazyForecast-aggregate}{\code{LazyForecast$aggregate()}}
\item \href{#method-LazyForecast-scenario}{\code{LazyForecast$scenario()}}
\item \href{#method-LazyForecast-monte_carlo}{\code{LazyForecast$monte_carlo()}}
\item \href{#method-LazyForecast-sensitivity}{\code{LazyForecast$sensitivity()}}
\item \href{#method-LazyForecast-collect}{\code{LazyForecast$collect()}}
\item \href{#method-LazyForecast-force}{\code{LazyForecast$force()}}
\item \href{#method-LazyForecast-show_plan}{\code{LazyForecast$show_plan()}}
\item \href{#method-LazyForecast-metadata}{\code{LazyForecast$metadata()}}
\item \href{#method-LazyForecast-get_ast}{\code{LazyForecast$get_ast()}}
\item \href{#method-LazyForecast-get_source}{\code{LazyForecast$get_source()}}
\item \href{#method-LazyForecast-print}{\code{LazyForecast$print()}}
\item \href{#method-LazyForecast-clone}{\code{LazyForecast$clone()}}
}
}
\if{html}{\out{<hr>}}
\if{html}{\out{<a id="method-LazyForecast-new"></a>}}
\if{latex}{\out{\hypertarget{method-LazyForecast-new}{}}}
\subsection{Method \code{new()}}{
Create a new LazyForecast
\subsection{Usage}{
\if{html}{\out{<div class="r">}}\preformatted{LazyForecast$new(source = NULL)}\if{html}{\out{</div>}}
}

\subsection{Arguments}{
\if{html}{\out{<div class="arguments">}}
\describe{
\item{\code{source}}{Data source (config, tibble, GnuCashDB, BookCollection, or NULL)}
}
\if{html}{\out{</div>}}
}
}
\if{html}{\out{<hr>}}
\if{html}{\out{<a id="method-LazyForecast-bind"></a>}}
\if{latex}{\out{\hypertarget{method-LazyForecast-bind}{}}}
\subsection{Method \code{bind()}}{
Monadic bind - chain computation
\subsection{Usage}{
\if{html}{\out{<div class="r">}}\preformatted{LazyForecast$bind(fn)}\if{html}{\out{</div>}}
}

\subsection{Arguments}{
\if{html}{\out{<div class="arguments">}}
\describe{
\item{\code{fn}}{Function that takes a value and returns a LazyForecast}
}
\if{html}{\out{</div>}}
}
\subsection{Returns}{
New LazyForecast with combined AST
}
}
\if{html}{\out{<hr>}}
\if{html}{\out{<a id="method-LazyForecast-map"></a>}}
\if{latex}{\out{\hypertarget{method-LazyForecast-map}{}}}
\subsection{Method \code{map()}}{
Map over value (functor)
\subsection{Usage}{
\if{html}{\out{<div class="r">}}\preformatted{LazyForecast$map(fn)}\if{html}{\out{</div>}}
}

\subsection{Arguments}{
\if{html}{\out{<div class="arguments">}}
\describe{
\item{\code{fn}}{Function to apply to materialized value}
}
\if{html}{\out{</div>}}
}
\subsection{Returns}{
New LazyForecast with transform operation added
}
}
\if{html}{\out{<hr>}}
\if{html}{\out{<a id="method-LazyForecast-grow"></a>}}
\if{latex}{\out{\hypertarget{method-LazyForecast-grow}{}}}
\subsection{Method \code{grow()}}{
Add growth projection to AST
\subsection{Usage}{
\if{html}{\out{<div class="r">}}\preformatted{LazyForecast$grow(rate, months, compound = TRUE)}\if{html}{\out{</div>}}
}

\subsection{Arguments}{
\if{html}{\out{<div class="arguments">}}
\describe{
\item{\code{rate}}{Monthly growth rate}

\item{\code{months}}{Number of months to project}

\item{\code{compound}}{Whether to compound (default TRUE)}
}
\if{html}{\out{</div>}}
}
\subsection{Returns}{
Self (for chaining)
}
}
\if{html}{\out{<hr>}}
\if{html}{\out{<a id="method-LazyForecast-filter"></a>}}
\if{latex}{\out{\hypertarget{method-LazyForecast-filter}{}}}
\subsection{Method \code{filter()}}{
Add filter operation to AST
\subsection{Usage}{
\if{html}{\out{<div class="r">}}\preformatted{LazyForecast$filter(predicate)}\if{html}{\out{</div>}}
}

\subsection{Arguments}{
\if{html}{\out{<div class="arguments">}}
\describe{
\item{\code{predicate}}{Filter predicate expression or function}
}
\if{html}{\out{</div>}}
}
\subsection{Returns}{
Self (for chaining)
}
}
\if{html}{\out{<hr>}}
\if{html}{\out{<a id="method-LazyForecast-aggregate"></a>}}
\if{latex}{\out{\hypertarget{method-LazyForecast-aggregate}{}}}
\subsection{Method \code{aggregate()}}{
Add aggregation operation to AST
\subsection{Usage}{
\if{html}{\out{<div class="r">}}\preformatted{LazyForecast$aggregate(..., .fns = list(sum = sum, mean = mean))}\if{html}{\out{</div>}}
}

\subsection{Arguments}{
\if{html}{\out{<div class="arguments">}}
\describe{
\item{\code{...}}{Column specifications}

\item{\code{.fns}}{Aggregation functions}
}
\if{html}{\out{</div>}}
}
\subsection{Returns}{
Self (for chaining)
}
}
\if{html}{\out{<hr>}}
\if{html}{\out{<a id="method-LazyForecast-scenario"></a>}}
\if{latex}{\out{\hypertarget{method-LazyForecast-scenario}{}}}
\subsection{Method \code{scenario()}}{
Add named scenario to AST
\subsection{Usage}{
\if{html}{\out{<div class="r">}}\preformatted{LazyForecast$scenario(name, params)}\if{html}{\out{</div>}}
}

\subsection{Arguments}{
\if{html}{\out{<div class="arguments">}}
\describe{
\item{\code{name}}{Scenario name}

\item{\code{params}}{Scenario parameters}
}
\if{html}{\out{</div>}}
}
\subsection{Returns}{
Self (for chaining)
}
}
\if{html}{\out{<hr>}}
\if{html}{\out{<a id="method-LazyForecast-monte_carlo"></a>}}
\if{latex}{\out{\hypertarget{method-LazyForecast-monte_carlo}{}}}
\subsection{Method \code{monte_carlo()}}{
Add Monte Carlo simulation to AST
\subsection{Usage}{
\if{html}{\out{<div class="r">}}\preformatted{LazyForecast$monte_carlo(n = 10000, params = list(), seed = 42L)}\if{html}{\out{</div>}}
}

\subsection{Arguments}{
\if{html}{\out{<div class="arguments">}}
\describe{
\item{\code{n}}{Number of simulations}

\item{\code{params}}{List with growth, expense parameters}

\item{\code{seed}}{Random seed for reproducibility}
}
\if{html}{\out{</div>}}
}
\subsection{Returns}{
Self (for chaining)
}
}
\if{html}{\out{<hr>}}
\if{html}{\out{<a id="method-LazyForecast-sensitivity"></a>}}
\if{latex}{\out{\hypertarget{method-LazyForecast-sensitivity}{}}}
\subsection{Method \code{sensitivity()}}{
Add sensitivity analysis to AST
\subsection{Usage}{
\if{html}{\out{<div class="r">}}\preformatted{LazyForecast$sensitivity(param_ranges)}\if{html}{\out{</div>}}
}

\subsection{Arguments}{
\if{html}{\out{<div class="arguments">}}
\describe{
\item{\code{param_ranges}}{Named list of parameter ranges}
}
\if{html}{\out{</div>}}
}
\subsection{Returns}{
Self (for chaining)
}
}
\if{html}{\out{<hr>}}
\if{html}{\out{<a id="method-LazyForecast-collect"></a>}}
\if{latex}{\out{\hypertarget{method-LazyForecast-collect}{}}}
\subsection{Method \code{collect()}}{
Execute the AST and return materialized result
\subsection{Usage}{
\if{html}{\out{<div class="r">}}\preformatted{LazyForecast$collect(parallel = TRUE, n_threads = NULL)}\if{html}{\out{</div>}}
}

\subsection{Arguments}{
\if{html}{\out{<div class="arguments">}}
\describe{
\item{\code{parallel}}{Use parallel execution (default TRUE)}

\item{\code{n_threads}}{Number of threads (NULL for auto)}
}
\if{html}{\out{</div>}}
}
\subsection{Returns}{
Materialized result
}
}
\if{html}{\out{<hr>}}
\if{html}{\out{<a id="method-LazyForecast-force"></a>}}
\if{latex}{\out{\hypertarget{method-LazyForecast-force}{}}}
\subsection{Method \code{force()}}{
Alias for collect()
\subsection{Usage}{
\if{html}{\out{<div class="r">}}\preformatted{LazyForecast$force()}\if{html}{\out{</div>}}
}

}
\if{html}{\out{<hr>}}
\if{html}{\out{<a id="method-LazyForecast-show_plan"></a>}}
\if{latex}{\out{\hypertarget{method-LazyForecast-show_plan}{}}}
\subsection{Method \code{show_plan()}}{
Print the AST without executing
\subsection{Usage}{
\if{html}{\out{<div class="r">}}\preformatted{LazyForecast$show_plan()}\if{html}{\out{</div>}}
}

\subsection{Returns}{
Self (invisibly)
}
}
\if{html}{\out{<hr>}}
\if{html}{\out{<a id="method-LazyForecast-metadata"></a>}}
\if{latex}{\out{\hypertarget{method-LazyForecast-metadata}{}}}
\subsection{Method \code{metadata()}}{
Get metadata about the forecast
\subsection{Usage}{
\if{html}{\out{<div class="r">}}\preformatted{LazyForecast$metadata()}\if{html}{\out{</div>}}
}

\subsection{Returns}{
List of metadata
}
}
\if{html}{\out{<hr>}}
\if{html}{\out{<a id="method-LazyForecast-get_ast"></a>}}
\if{latex}{\out{\hypertarget{method-LazyForecast-get_ast}{}}}
\subsection{Method \code{get_ast()}}{
Get the AST
\subsection{Usage}{
\if{html}{\out{<div class="r">}}\preformatted{LazyForecast$get_ast()}\if{html}{\out{</div>}}
}

\subsection{Returns}{
List of AST nodes
}
}
\if{html}{\out{<hr>}}
\if{html}{\out{<a id="method-LazyForecast-get_source"></a>}}
\if{latex}{\out{\hypertarget{method-LazyForecast-get_source}{}}}
\subsection{Method \code{get_source()}}{
Get the source
\subsection{Usage}{
\if{html}{\out{<div class="r">}}\preformatted{LazyForecast$get_source()}\if{html}{\out{</div>}}
}

\subsection{Returns}{
Source data
}
}
\if{html}{\out{<hr>}}
\if{html}{\out{<a id="method-LazyForecast-print"></a>}}
\if{latex}{\out{\hypertarget{method-LazyForecast-print}{}}}
\subsection{Method \code{print()}}{
Print method
\subsection{Usage}{
\if{html}{\out{<div class="r">}}\preformatted{LazyForecast$print()}\if{html}{\out{</div>}}
}

}
\if{html}{\out{<hr>}}
\if{html}{\out{<a id="method-LazyForecast-clone"></a>}}
\if{latex}{\out{\hypertarget{method-LazyForecast-clone}{}}}
\subsection{Method \code{clone()}}{
The objects of this class are cloneable with this method.
\subsection{Usage}{
\if{html}{\out{<div class="r">}}\preformatted{LazyForecast$clone(deep = FALSE)}\if{html}{\out{</div>}}
}

\subsection{Arguments}{
\if{html}{\out{<div class="arguments">}}
\describe{
\item{\code{deep}}{Whether to make a deep clone.}
}
\if{html}{\out{</div>}}
}
}
}
